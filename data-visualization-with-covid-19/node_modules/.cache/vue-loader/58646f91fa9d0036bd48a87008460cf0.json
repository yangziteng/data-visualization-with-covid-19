{"remainingRequest":"C:\\Users\\86158\\Desktop\\12-23疫情数据分析一月中旬\\covid19\\data-visualization-with-covid-19\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\86158\\Desktop\\12-23疫情数据分析一月中旬\\covid19\\data-visualization-with-covid-19\\src\\views\\main-layout.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"C:\\Users\\86158\\Desktop\\12-23疫情数据分析一月中旬\\covid19\\data-visualization-with-covid-19\\src\\views\\main-layout.vue","mtime":1674393871502},{"path":"C:\\Users\\86158\\Desktop\\12-23疫情数据分析一月中旬\\covid19\\data-visualization-with-covid-19\\node_modules\\css-loader\\dist\\cjs.js","mtime":1678158407783},{"path":"C:\\Users\\86158\\Desktop\\12-23疫情数据分析一月中旬\\covid19\\data-visualization-with-covid-19\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1678158410669},{"path":"C:\\Users\\86158\\Desktop\\12-23疫情数据分析一月中旬\\covid19\\data-visualization-with-covid-19\\node_modules\\postcss-loader\\src\\index.js","mtime":1678158409263},{"path":"C:\\Users\\86158\\Desktop\\12-23疫情数据分析一月中旬\\covid19\\data-visualization-with-covid-19\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1678158406718},{"path":"C:\\Users\\86158\\Desktop\\12-23疫情数据分析一月中旬\\covid19\\data-visualization-with-covid-19\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1678158409891}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCi5jb250YWluZXIgew0KICBwb3NpdGlvbjogcmVsYXRpdmU7DQp9DQpoMSB7DQogIGZvbnQtc2l6ZTogMzVweDsNCiAgZm9udC13ZWlnaHQ6IGJvbGQ7DQogIHBhZGRpbmc6IDIwcHg7DQp9DQouZmxleCB7DQogIGRpc3BsYXk6IGZsZXg7DQogIGp1c3RpZnktY29udGVudDogY2VudGVyOw0KfQ0KLnRvcC1oZWFkZXIgew0KICBwb3NpdGlvbjogcmVsYXRpdmU7DQogIG1hcmdpbi1ib3R0b206IDEwcHg7DQp9DQoudG9wLWhlYWRlci10aXAgew0KICBmb250LXNpemU6IDE0cHg7DQogIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgcGFkZGluZzogMjBweCAyMHB4Ow0KICB0ZXh0LWFsaWduOiByaWdodDsNCiAgdG9wOiAwOw0KICByaWdodDogMDsNCn0NCi50aXRsZSB7DQogIG1pbi13aWR0aDogMzUwcHg7DQp9DQouY2hhcnQtY2FyZCB7DQogIGJhY2tncm91bmQ6ICMwZjE0MmI7DQogIGJvcmRlci1yYWRpdXM6IDEwcHg7DQogIG1hcmdpbjogMCAyMHB4Ow0KfQ0KLm1haW4taW5uZXItbWFwLXdyYXBlciB7DQogIGhlaWdodDogMTAwJTsNCiAgbWFyZ2luOiAwIDIwcHg7DQp9DQoubWFwIHsNCiAgd2lkdGg6IDk5JTsNCiAgaGVpZ2h0OiA4NDBweDsNCiAgcGFkZGluZzogMjBweCAxMHB4IDEwcHggMTBweDsNCn0NCi5wcm92aW5jZS1zY3JvbGwtYm9hcmQtd3JhcHBlciB7DQogIHBhZGRpbmctdG9wOiAxMHB4Ow0KICBwYWRkaW5nLWJvdHRvbTogMTBweDsNCn0NCi5jaGFydC1pdGVtLWJvdHRvbS1zZXAgew0KICBtYXJnaW4tYm90dG9tOiAyMHB4Ow0KfQ0KLnByb3ZpbmNlLXRhYmxlLXRpdGxlIHsNCiAgY29sb3I6ICNmZmY7DQogIGZvbnQtc2l6ZTogMTZweDsNCiAgZm9udC13ZWlnaHQ6IGJvbGQ7DQogIHBhZGRpbmc6IDEwcHggMTBweCAxMHB4IDIwcHg7DQogIHRleHQtYWxpZ246IGxlZnQ7DQp9DQouYmFzaWMtaW5jci10cmVuZC1jaGFydC13cmFwcGVyIHsNCiAgcGFkZGluZy1ib3R0b206IDEwcHg7DQp9DQouc3ViLXRpdGxlLA0KLmxhc3QtdXBkYXRlLXRpbWUsDQoucHJvdmluY2Utc2Nyb2xsLWJvYXJkLXdyYXBwZXIgOjp2LWRlZXAgLmR2LXNjcm9sbC1ib2FyZCAuaGVhZGVyLA0KLnByb3ZpbmNlLXNjcm9sbC1ib2FyZC13cmFwcGVyIDo6di1kZWVwIC5kdi1zY3JvbGwtYm9hcmQgLnJvd3Mgew0KICBmb250LXNpemU6IDE0cHg7DQp9DQoucHJvdmluY2Utc2Nyb2xsLWJvYXJkLXdyYXBwZXIgOjp2LWRlZXAgLmR2LXNjcm9sbC1ib2FyZCAucm93cyB7DQogIGNvbG9yOiAjYmNiY2JmOw0KfQ0KLnByb3ZpbmNlLWRhdGEtbW9kYWwtdGl0bGUgew0KICBjb2xvcjogIzAwMDsNCiAgZm9udC1zaXplOiAyMHB4Ow0KICBmb250LXdlaWdodDogYm9sZDsNCn0NCi5wcm92aW5jZS1kYXRhLW1vZGFsLXVwZGF0ZS10aW1lIHsNCiAgY29sb3I6ICM1ODU4NWE7DQogIGZvbnQtc2l6ZTogMTZweDsNCiAgZm9udC13ZWlnaHQ6IG5vcm1hbDsNCiAgcGFkZGluZy10b3A6IDEwcHg7DQogIGRpc3BsYXk6IGJsb2NrOw0KfQ0KLmN1cmUtYW5kLWRlYWQtcmF0ZS1jaGFydCB7DQogIGRpc3BsYXk6IGZsZXg7DQogIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kOw0KfQ0KLnRvcC1iYXNpYy1pbmZvIHsNCiAgd2lkdGg6IDEwMCU7DQogIGRpc3BsYXk6IGZsZXg7DQp9DQouZHYtc2Nyb2xsLXJhbmtpbmctYm9hcmQgLnJhbmtpbmctY29sdW1uIC5pbnNpZGUtY29sdW1uIHsNCiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDkwZGVnLCAjMjliZmZmLCAjYTIzMWZmLCAjMGRlY2NkLCAjMjliZmZmKTsNCn0NCi5jaGFydC1pdGVtLWNvbnRhaW5lciB7DQogIG1hcmdpbjogMCAxMHB4Ow0KfQ0KLmFib3V0LXdyYXBlciB7DQogIHBvc2l0aW9uOiBmaXhlZDsNCiAgYm90dG9tOiAyMHB4Ow0KICByaWdodDogMjBweDsNCn0NCi5sYXN0LXVwZGF0ZS1jaG9vc2Ugew0KICBjb2xvcjogd2hpdGU7DQogIGZvbnQtc2l6ZTogMjVweDsNCiAgcG9zaXRpb246IGFic29sdXRlOw0KICB0b3A6IDI1cHg7DQogIGxlZnQ6IDE2cHg7DQogIGRpc3BsYXk6IGZsZXg7DQp9DQoubGFzdC11cGRhdGUtY2hvb3NlIGRpdiB7DQogIHBhZGRpbmc6IDEycHg7DQogIGN1cnNvcjogcG9pbnRlcjsNCn0NCi5sYXN0LXVwZGF0ZS1jaG9vc2UtMSB7DQogIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZmZmOw0KfQ0KLmxhc3QtdXBkYXRlLWNob29zZSBkaXY6YWN0aXZlIHsNCiAgZm9udC1zaXplOiAzMHB4Ow0KfQ0KLmJvdHRvbSB7DQogIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZmZmOw0KfQ0K"},{"version":3,"sources":["main-layout.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqoBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main-layout.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <!-- 顶部 -->\r\n    <div class=\"top-header\">\r\n      <div class=\"last-update-choose\">\r\n        <router-link to=\"/\"  style=\"color:#fff\" >\r\n          <div class=\"last-update-choose-1 bottom\">全国</div>\r\n        </router-link>\r\n        <router-link to=\"/world\"  style=\"color:#fff\" >\r\n          <div class=\"last-update-choose-2\">全球</div>\r\n        </router-link>\r\n      </div>\r\n      <div class=\"title\">\r\n        <h1>{{ title }}</h1>\r\n        <div class=\"top-header-tip\">\r\n          <div class=\"sub-title\">此数据为实时真实数据，数据来源：网易新闻</div>\r\n          <div class=\"last-update-time\">更新时间：（更新时间：2022-12-）</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"main-content\">\r\n      <el-row>\r\n        <el-col :span=\"18\">\r\n          <!-- 中间信息开始 -->\r\n          <div class=\"statistics-content\">\r\n            <!-- 中间左侧开始 -->\r\n            <div class=\"main-inner\">\r\n              <el-row>\r\n                <el-col :span=\"7\">\r\n                  <chart-card\r\n                    title=\"累计排名（TOP 10）\"\r\n                    :customClass=\"`chart-item-bottom-sep`\"\r\n                  >\r\n                    <province-ranking-bar-chart\r\n                      ref=\"topConfirmedCountRankChart\"\r\n                      :data=\"top10ProvinceData\"\r\n                      style=\"width: 100%; height: 380px\"\r\n                    />\r\n                  </chart-card>\r\n                  <!-- 占比 -->\r\n                  <!-- <chart-card\r\n                    title=\"占比\"\r\n                    :customClass=\"`chart-item-bottom-sep`\"\r\n                  >\r\n                    <basic-proportion-chart\r\n                      ref=\"basicProportionChart\"\r\n                      :data=\"basicData\"\r\n                      style=\"width: 100%; height: 120px\"\r\n                    />\r\n                  </chart-card> -->\r\n                  <chart-card title=\"最近一周新增确诊病例\">\r\n                    <current-in-compare-bar-chart\r\n                      ref=\"currentInCompareBarChart\"\r\n                      :data=\"confirmSingleBarChartData\"\r\n                      style=\"width: 100%; height: 310px\"\r\n                    />\r\n                  </chart-card>\r\n                  <chart-card title=\"最近一周累计治愈\" style=\"margin-top:30px\">\r\n                    \r\n                    <current-confirmed-compare-bar-chart\r\n                      ref=\"confirmSingleBarChart\"\r\n\r\n                      :data=\"confirmSingleBarChartData\"\r\n                      style=\"width: 100%; height: 310px\"\r\n                    />\r\n                  </chart-card>\r\n                </el-col>\r\n                <el-col :span=\"17\">\r\n                  <!-- 顶部基本统计信息开始 -->\r\n                  <div class=\"basic-header flex\">\r\n                    <!-- 顶部统计信息开始 -->\r\n                    <div class=\"top-basic-info\">\r\n                      <basic-data-item-label\r\n                        label=\"累计确诊\"\r\n                        :config=\"defaultDataConfig.confirmedCount\"\r\n                        :inCrValue=\"basicData.confirmedIncr\"\r\n                      />\r\n                      <!-- 境外输入 -->\r\n                      <basic-data-item-label\r\n                        label=\"境外输入\"\r\n                        :config=\"defaultDataConfig.importedCount\"\r\n                        :inCrValue=\"basicData.importedIncr\"\r\n                      />\r\n                      <!-- 无症状感染者 -->\r\n                      <!-- <basic-data-item-label\r\n                        label=\"无症状感染者\"\r\n                        :config=\"defaultDataConfig.noInFectCount\"\r\n                        :inCrValue=\"basicData.noInFectIncr\"\r\n                      /> -->\r\n                      <!-- 累计治愈 -->\r\n                      <basic-data-item-label\r\n                        label=\"累计治愈\"\r\n                        :config=\"defaultDataConfig.curedCount\"\r\n                        :inCrValue=\"basicData.curedIncr\"\r\n                      />\r\n                      <!-- 死亡人数 -->\r\n                      <basic-data-item-label\r\n                        label=\"累计死亡\"\r\n                        :config=\"defaultDataConfig.deadCount\"\r\n                        :inCrValue=\"basicData.deadIncr\"\r\n                      />\r\n                    </div>\r\n                    <!-- 顶部统计信息结束 -->\r\n                  </div>\r\n                  <!-- 顶部基本统计信息开始 -->\r\n                  <div class=\"main-inner-map-wraper\">\r\n                    <!-- 地图 -->\r\n                    <div class=\"map\">\r\n                      <data-map\r\n                        ref=\"dataMap\"\r\n                        title=\"\"\r\n                        :list=\"mapDataList\"\r\n                        style=\"width: 100%; height: 100%\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </el-col>\r\n              </el-row>\r\n            </div>\r\n            <!-- 中间左侧结束 -->\r\n          </div>\r\n          <!-- 中间信息结束 -->\r\n        </el-col>\r\n        <el-col :span=\"6\">\r\n          <!-- 右侧区域开始 -->\r\n          <div class=\"main-right\">\r\n            <!-- 治愈率和死亡率 -->\r\n            <chart-card\r\n              title=\"治愈率和死亡率\"\r\n              :innerClass=\"`cure-and-dead-rate-chart`\"\r\n              :customClass=\"`chart-item-bottom-sep`\"\r\n            >\r\n              <cured-and-dead-rate-chart\r\n                ref=\"cureRateChart\"\r\n                :data=\"rate\"\r\n                title=\"治愈率\"\r\n                style=\"width: 280px; height: 130px\"\r\n              />\r\n            </chart-card>\r\n            <chart-card title=\"新增趋势\" :customClass=\"`chart-item-bottom-sep`\">\r\n              <basic-trend-chart\r\n                :data=\"basicIncrTrendData\"\r\n                ref=\"confirmedCountTrendChart\"\r\n                style=\"width: 100%; height: 320px\"\r\n              />\r\n            </chart-card>\r\n            <chart-card title=\"\">\r\n              <div slot=\"title\" class=\"province-table-title flex\">\r\n                各省累计确诊\r\n                <el-link\r\n                  icon=\"el-icon-view\"\r\n                  style=\"color: #bcbcbf; padding-left: 10px\"\r\n                  :underline=\"false\"\r\n                  @click=\"provinceTableDialogShowHandler\"\r\n                  >详情</el-link\r\n                >\r\n              </div>\r\n              <dv-scroll-board\r\n                :config=\"provinceConfirmedCountBoardConfig\"\r\n                style=\"width: 100%; height: 360px\"\r\n              />\r\n            </chart-card>\r\n          </div>\r\n          <!-- 右侧区域结束 -->\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n    <!-- 其他页面 -->\r\n    <div class=\"province-data-table-wrapper\">\r\n      <el-dialog\r\n        :visible.sync=\"provinceTableDialogVisible\"\r\n        width=\"50%\"\r\n        :before-close=\"provinceTableDialogClose\"\r\n      >\r\n        <div slot=\"title\" class=\"province-data-modal-title\">\r\n          <p>各省数据表</p>\r\n          <span class=\"province-data-modal-update-time\"\r\n            >（更新时间：2022-12-18）</span\r\n          >\r\n        </div>\r\n        <div class=\"area-data-table-wrapper\">\r\n          <el-table\r\n            class=\"area-data-table\"\r\n            :data=\"provinceDataList\"\r\n            style=\"width: 100%\"\r\n          >\r\n            <el-table-column prop=\"provinceLabel\" align=\"center\" label=\"省份\">\r\n            </el-table-column>\r\n            <el-table-column\r\n              prop=\"confirmedCount\"\r\n              align=\"center\"\r\n              label=\"累计确诊\"\r\n            >\r\n            </el-table-column>\r\n            <el-table-column\r\n              prop=\"currentConfirmedCount\"\r\n              align=\"center\"\r\n              label=\"现有确诊\"\r\n            >\r\n            </el-table-column>\r\n            <el-table-column prop=\"curedCount\" align=\"center\" label=\"累计治愈\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"deadCount\" align=\"center\" label=\"累计死亡\">\r\n            </el-table-column>\r\n          </el-table>\r\n        </div>\r\n      </el-dialog>\r\n      <!-- 关于弹窗 -->\r\n      <el-dialog\r\n        title=\"关于\"\r\n        :visible.sync=\"aboutDialogVisible\"\r\n        width=\"30%\"\r\n        :before-close=\"aboutDialogClose\"\r\n      >\r\n      </el-dialog>\r\n      <!-- 关于图标 -->\r\n      <div class=\"about-wraper\">\r\n        <i\r\n          class=\"el-icon-info\"\r\n          style=\"font-size: 30px\"\r\n          @click=\"aboutDialogShowHandler\"\r\n        ></i>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport ChartCard from \"../components/ChartCard\";\r\nimport DataMap from \"../components/DataMap\";\r\nimport CuredAndDeadRateChart from \"../components/CuredAndDeadRateChart\";\r\nimport BasicDataItemLabel from \"../components/BasicDataItemLabel\";\r\nimport BasicTrendChart from \"../components/BasicTrendChart\";\r\nimport ProvinceRankingBarChart from \"../components/ProvinceRankingBarChart\";\r\nimport CurrentConfirmedCompareBarChart from \"../components/CurrentConfirmedCompareBarChart\";\r\n// import BasicProportionChart from '../components/BasicProportionChart'\r\nimport CurrentInCompareBarChart from \"../components/CurrentInCompareBarChart\"\r\nimport covid19Service from \"../api/covid19\";\r\n\r\nconst formatter = (number) => {\r\n  const numbers = number.toString().split(\"\").reverse();\r\n  const segs = [];\r\n  while (numbers.length) segs.push(numbers.splice(0, 3).join(\"\"));\r\n  return segs.join(\",\").split(\"\").reverse().join(\"\");\r\n};\r\n// 数据样式\r\nconst getNumberStyle = (\r\n  color = \"#E8EAF6\",\r\n  fontSize = 30,\r\n  fontWeight = \"bolder\"\r\n) => {\r\n  return {\r\n    fontSize: fontSize,\r\n    fill: color,\r\n    fontWeight: fontWeight,\r\n  };\r\n};\r\n\r\nconst initBasicConfig = (data = null) => {\r\n  let currentConfirmedCount = data ? [data.currentConfirmedCount] : 0;\r\n  let confirmedCount = data ? [data.confirmedCount] : 0;\r\n  let importedCount = data ? [data.importedCount] : 0;\r\n  let noInFectCount = data ? [data.noInFectCount] : 0;\r\n  let deadCount = data ? [data.deadCount] : 0;\r\n  let curedCount = data ? [data.curedCount] : 0;\r\n  return {\r\n    confirmedCount: {\r\n      number: [confirmedCount],\r\n      content: \"{nt}\",\r\n      formatter,\r\n      style: getNumberStyle(),\r\n    },\r\n    currentConfirmedCount: {\r\n      number: [currentConfirmedCount],\r\n      content: \"{nt}\",\r\n      formatter,\r\n      style: getNumberStyle(\"#2E8EEA\"),\r\n    },\r\n    importedCount: {\r\n      number: [importedCount],\r\n      content: \"{nt}\",\r\n      formatter,\r\n      style: getNumberStyle(),\r\n    },\r\n    noInFectCount: {\r\n      number: [noInFectCount],\r\n      content: \"{nt}\",\r\n      formatter,\r\n      style: getNumberStyle(),\r\n    },\r\n    deadCount: {\r\n      number: [deadCount],\r\n      content: \"{nt}\",\r\n      formatter,\r\n      style: getNumberStyle(\"#D32E58\"),\r\n    },\r\n    curedCount: {\r\n      number: [curedCount],\r\n      content: \"{nt}\",\r\n      formatter,\r\n      style: getNumberStyle(),\r\n    },\r\n  };\r\n};\r\n\r\nconst initProvinceConfirmedCountBoardConfig = (resultList = []) => {\r\n  return {\r\n    header: [\"省份\", \"累计确诊\", \"境外输入\", \"累计死亡\"],\r\n    headerHeight: 30,\r\n    data: resultList,\r\n    align: [\"center\"],\r\n    rowNum: 10,\r\n    index: true,\r\n    indexHeader: \"排名\",\r\n    headerBGC: \"\",\r\n    oddRowBGC: \"\",\r\n    evenRowBGC: \"\",\r\n    carousel: \"single\",\r\n  };\r\n};\r\nexport default {\r\n  components: {\r\n    ChartCard,\r\n    DataMap,\r\n    CuredAndDeadRateChart,\r\n    BasicDataItemLabel,\r\n    BasicTrendChart,\r\n    ProvinceRankingBarChart,\r\n    CurrentConfirmedCompareBarChart,\r\n    CurrentInCompareBarChart\r\n    // BasicProportionChart\r\n  },\r\n  data() {\r\n    return {\r\n      title: \"全国新冠肺炎疫情数据大屏\",\r\n      provinceTableDialogVisible: false,\r\n      aboutDialogVisible: false,\r\n      commonData: {},\r\n      basicData: {\r\n        currentConfirmedCount: 0,\r\n        currentConfirmedIncr: 0,\r\n        confirmedCount: 0,\r\n        confirmedIncr: 0,\r\n        curedCount: 0,\r\n        curedIncr: 0,\r\n        deadCount: 0,\r\n        deadIncr: 0,\r\n        sure: 0,\r\n        sureAdd: 0,\r\n        importedCount: 0,\r\n        importedIncr: 0,\r\n        noInFectCount: 0,\r\n        noInFectIncr: 0,\r\n        suspectCount: 0,\r\n        suspectIncr: 0,\r\n        updateTime: \"-\",\r\n      },\r\n      defaultDataConfig: initBasicConfig(),\r\n      cureRateConfig: {\r\n        data: [0],\r\n        shape: \"round\",\r\n      },\r\n      deadRateConfig: {\r\n        data: [0],\r\n        shape: \"round\",\r\n      },\r\n      countryRankingTakeTurnChartConfig: {\r\n        data: [],\r\n        waitTime: 2000,\r\n        unit: \"单位\",\r\n        valueFormatter({ value }) {\r\n          const reverseNumber = (value + \"\").split(\"\").reverse();\r\n          let valueStr = \"\";\r\n\r\n          while (reverseNumber.length) {\r\n            const seg = reverseNumber.splice(0, 3).join(\"\");\r\n            valueStr += seg;\r\n            if (seg.length === 3) valueStr += \",\";\r\n          }\r\n\r\n          return valueStr.split(\"\").reverse().join(\"\");\r\n        },\r\n      },\r\n      provinceConfirmedCountBoardConfig:\r\n        initProvinceConfirmedCountBoardConfig(),\r\n      provinceDataList: [],\r\n      trendDataList: [],\r\n      confirmedCountList: [],\r\n      top10ProvinceData: {\r\n        provinceList: [],\r\n        valueList: [],\r\n      },\r\n      basicIncrTrendData: {\r\n        dateList: [],\r\n        importedIncrDataList: [],\r\n        currentConfirmedIncrDataList: [],\r\n      },\r\n      confirmSingleBarChartData: {\r\n        dateList: [],\r\n        currentConfirmedCountList: [],\r\n        confirmedCountList: [],\r\n      },\r\n      rate: {\r\n        curedRate: 0,\r\n        deadRate: 0,\r\n      },\r\n      areaData: {},\r\n      mapDataList: [],\r\n    };\r\n  },\r\n  methods: {\r\n    queryBasicData() {\r\n      let self = this;\r\n      covid19Service.getOverall().then((res) => {\r\n        if (res.code != 200) {\r\n          console.log(\"错误:\" + res.info);\r\n          return;\r\n        }\r\n        self.basicData = res.data;\r\n        console.log(res.data, 406);\r\n\r\n        self.setBasicData(res.data);\r\n      });\r\n    },\r\n    queryProvinceDataList() {\r\n      let self = this;\r\n      covid19Service.getProvinceDataList().then((res) => {\r\n        console.log(res);\r\n        if (res.code != 200) {\r\n          // TODO 错误处理...\r\n          console.log(\"错误:\" + res);\r\n          return;\r\n        }\r\n        self.provinceDataList = res.data;\r\n        console.log(self.provinceDataList);\r\n        self.setAreaChartData(res.data);\r\n        // 设置累计排名数据\r\n        self.setProvinceRankingData(res.data);\r\n        // 设置各省累计确诊轮播表格数据\r\n        self.setProvinceComfirmedCountBoardData(res.data);\r\n        // 设置地图数据\r\n        self.setMapData(res.data);\r\n      });\r\n    },\r\n    queryTrendDataList() {\r\n      let self = this;\r\n      covid19Service.getDailyList().then((res) => {\r\n        console.log(res, 434);\r\n        if (res.code != 200) {\r\n          // TODO 错误处理...\r\n          console.log(\"错误:\" + res.message);\r\n          return;\r\n        }\r\n        self.trendDataList = res.data;\r\n        console.log(res.data);\r\n\r\n        // 重置图表数据\r\n        self.setBasicIncrTrendData(res.data);\r\n      });\r\n    },\r\n    setProvinceRankingData(areaList) {\r\n      let provinceList = [];\r\n      let dataValueList = [];\r\n      for (let i = 0; i < 10; i++) {\r\n        provinceList.push(areaList[i].provinceLabel);\r\n        dataValueList.push(areaList[i].confirmedCount);\r\n      }\r\n      let data = {\r\n        provinceList: provinceList,\r\n        valueList: dataValueList,\r\n      };\r\n      this.top10ProvinceData = data;\r\n    },\r\n    setBasicIncrTrendData(data) {\r\n      let dateList = [];\r\n      let currentConfirmedIncrList = [];\r\n      let importedIncrList = [];\r\n\r\n      let sevenDayDateList = [];\r\n      // 仅显示一周条数据\r\n      let confirmedCountList = [];\r\n      let ConfirmedDataList = []\r\n      let curedCountList = [];\r\n      // 仅获取7条数据\r\n      let count = 7;\r\n      let noInFectDataList = [];\r\n\r\n      let new_confirmedCountList = []\r\n   \r\n      for (let i = data.currentConfirmedIncrList.length - 1; i >= 0; i--) {\r\n        dateList.push(data.currentConfirmedIncrList[i][1]);\r\n        // dateList.push(data.currentConfirmedIncrList[i][1])\r\n\r\n        currentConfirmedIncrList.push(data.currentConfirmedIncrList[i][0]);\r\n      }\r\n      for (let i = data.importedIncrList.length - 1; i >= 0; i--) {\r\n        importedIncrList.push(data.importedIncrList[i][0]);\r\n      }\r\n      // for (let i = data.noInFectCountList.length - 1; i >= 0; i--) {\r\n      //   ConfirmedDataList.push(data.noInFectCountList[i][1])\r\n      // }\r\n     for (let i = data.confirmedCountList.length - 1; i >= 0; i--) {\r\n        confirmedCountList.push(data.confirmedCountList[i][0])\r\n      }\r\n      console.log(data,486)\r\n      for (let i = count; i > 0; i--) {\r\n        // if (confirmedCountList.length >= count) {\r\n        //   break;\r\n        // }\r\n        sevenDayDateList.push(data.confirmedCountList[i][1]);\r\n        // sevenDayDateList.push(data.confirmedCountList[i][1])\r\n\r\n        new_confirmedCountList.push(data.confirmedCountList[i][0]);\r\n      }\r\n      console.log(sevenDayDateList,513)\r\n      for (let i = count; i >= 0; i--) {\r\n        if (curedCountList.length >= count) {\r\n          break;\r\n        }\r\n        curedCountList.push(data.curedCountList[i][0]);\r\n      }\r\n    \r\n      this.basicIncrTrendData = {\r\n        dateList: dateList,\r\n        importedIncrDataList: importedIncrList,\r\n        currentConfirmedIncrDataList: currentConfirmedIncrList,\r\n        ConfirmedDataList: confirmedCountList,\r\n\r\n        noInFectDataList: noInFectDataList,\r\n      };\r\n      console.log( this.basicIncrTrendData ,521)\r\n      currentConfirmedIncrList.reverse()\r\n      let new_currentConfirmedIncrList = []\r\n      for(let i = 0; i <count; i++){\r\n          if (new_currentConfirmedIncrList.length >= count) {\r\n          break;\r\n        }\r\n        new_currentConfirmedIncrList.push(currentConfirmedIncrList[i]);\r\n      }\r\n      console.log(this.basicIncrTrendData, 502);\r\n      new_currentConfirmedIncrList.reverse()\r\n      this.confirmSingleBarChartData = {\r\n        dateList: sevenDayDateList,\r\n        curedCountList: curedCountList,\r\n        confirmedCountList: new_confirmedCountList,\r\n        currentConfirmedIncrList:new_currentConfirmedIncrList\r\n      };\r\n      console.log(this.confirmSingleBarChartData, 505);\r\n    },\r\n    setProvinceComfirmedCountBoardData(areaList) {\r\n      let resultList = areaList.map((item) => {\r\n        return [\r\n          item.provinceLabel,\r\n          item.confirmedCount,\r\n          item.jwsrNum,\r\n          item.deadCount,\r\n        ];\r\n      });\r\n      // 重新生成，否则无法刷新状态\r\n      this.provinceConfirmedCountBoardConfig =\r\n        initProvinceConfirmedCountBoardConfig(resultList);\r\n    },\r\n    setAreaChartData(areaList) {\r\n      let confirmedCountList = [];\r\n      let provinceList = [];\r\n      let curedCountList = [];\r\n      let deadCountList = [];\r\n      areaList.forEach((item) => {\r\n        provinceList.push(item.provinceLabel);\r\n        confirmedCountList.push(item.confirmedCount);\r\n        curedCountList.push(item.curedCount);\r\n        deadCountList.push(item.deadCount);\r\n      });\r\n      this.areaData = {\r\n        provinceList: provinceList,\r\n        confirmedCountList: confirmedCountList,\r\n        curedCountList: curedCountList,\r\n        deadCountList: deadCountList,\r\n      };\r\n    },\r\n    setMapData(dataList) {\r\n      let list = dataList.map((item) => {\r\n        return {\r\n          name: item.provinceLabel,\r\n          value: item.confirmedCount,\r\n        };\r\n      });\r\n      this.mapDataList = list;\r\n    },\r\n    provinceTableDialogShowHandler() {\r\n      this.provinceTableDialogVisible = true;\r\n    },\r\n    provinceTableDialogClose() {\r\n      this.provinceTableDialogVisible = false;\r\n    },\r\n    aboutDialogShowHandler() {\r\n      this.aboutDialogVisible = true;\r\n    },\r\n    aboutDialogClose() {\r\n      this.aboutDialogVisible = false;\r\n    },\r\n    setBasicData(data) {\r\n      // 重新生成，否则视图不更新\r\n      let config = initBasicConfig(data);\r\n      this.defaultDataConfig = config;\r\n      // 处理治愈率和死亡率\r\n      data.curedRate = data.curedCount / data.confirmedCount;\r\n      data.deadRate = data.deadCount / data.confirmedCount;\r\n      this.rate = {\r\n        curedRate: data.curedRate,\r\n        deadRate: data.deadRate,\r\n      };\r\n    },\r\n    startQueryData() {\r\n      this.queryBasicData();\r\n      this.queryProvinceDataList();\r\n      this.queryTrendDataList();\r\n    },\r\n    initAllChart() {\r\n      this.$refs.dataMap.initChart();\r\n      this.$refs.cureRateChart.initChart();\r\n      this.$refs.confirmedCountTrendChart.initChart();\r\n      this.$refs.topConfirmedCountRankChart.initChart();\r\n      this.$refs.confirmSingleBarChart.initChart();\r\n      this.$refs.currentInCompareBarChart.initChart()\r\n      // this.$refs.confirmSingleBarChart2.initChart();\r\n\r\n      // this.$refs.basicProportionChart.initChart()\r\n    },\r\n  },\r\n  mounted() {\r\n    this.initAllChart();\r\n    this.startQueryData();\r\n\r\n    let self = this;\r\n    // 定义定时器，隔 5 秒刷新一次\r\n    // this.timer = setInterval(() => {\r\n    //   self.startQueryData()\r\n    // }, 5000)\r\n  },\r\n  beforeDestroy() {\r\n    clearInterval(this.timer);\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.container {\r\n  position: relative;\r\n}\r\nh1 {\r\n  font-size: 35px;\r\n  font-weight: bold;\r\n  padding: 20px;\r\n}\r\n.flex {\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n.top-header {\r\n  position: relative;\r\n  margin-bottom: 10px;\r\n}\r\n.top-header-tip {\r\n  font-size: 14px;\r\n  position: absolute;\r\n  padding: 20px 20px;\r\n  text-align: right;\r\n  top: 0;\r\n  right: 0;\r\n}\r\n.title {\r\n  min-width: 350px;\r\n}\r\n.chart-card {\r\n  background: #0f142b;\r\n  border-radius: 10px;\r\n  margin: 0 20px;\r\n}\r\n.main-inner-map-wraper {\r\n  height: 100%;\r\n  margin: 0 20px;\r\n}\r\n.map {\r\n  width: 99%;\r\n  height: 840px;\r\n  padding: 20px 10px 10px 10px;\r\n}\r\n.province-scroll-board-wrapper {\r\n  padding-top: 10px;\r\n  padding-bottom: 10px;\r\n}\r\n.chart-item-bottom-sep {\r\n  margin-bottom: 20px;\r\n}\r\n.province-table-title {\r\n  color: #fff;\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  padding: 10px 10px 10px 20px;\r\n  text-align: left;\r\n}\r\n.basic-incr-trend-chart-wrapper {\r\n  padding-bottom: 10px;\r\n}\r\n.sub-title,\r\n.last-update-time,\r\n.province-scroll-board-wrapper ::v-deep .dv-scroll-board .header,\r\n.province-scroll-board-wrapper ::v-deep .dv-scroll-board .rows {\r\n  font-size: 14px;\r\n}\r\n.province-scroll-board-wrapper ::v-deep .dv-scroll-board .rows {\r\n  color: #bcbcbf;\r\n}\r\n.province-data-modal-title {\r\n  color: #000;\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n}\r\n.province-data-modal-update-time {\r\n  color: #58585a;\r\n  font-size: 16px;\r\n  font-weight: normal;\r\n  padding-top: 10px;\r\n  display: block;\r\n}\r\n.cure-and-dead-rate-chart {\r\n  display: flex;\r\n  justify-content: space-around;\r\n}\r\n.top-basic-info {\r\n  width: 100%;\r\n  display: flex;\r\n}\r\n.dv-scroll-ranking-board .ranking-column .inside-column {\r\n  background: linear-gradient(90deg, #29bfff, #a231ff, #0deccd, #29bfff);\r\n}\r\n.chart-item-container {\r\n  margin: 0 10px;\r\n}\r\n.about-wraper {\r\n  position: fixed;\r\n  bottom: 20px;\r\n  right: 20px;\r\n}\r\n.last-update-choose {\r\n  color: white;\r\n  font-size: 25px;\r\n  position: absolute;\r\n  top: 25px;\r\n  left: 16px;\r\n  display: flex;\r\n}\r\n.last-update-choose div {\r\n  padding: 12px;\r\n  cursor: pointer;\r\n}\r\n.last-update-choose-1 {\r\n  border-bottom: 1px solid #fff;\r\n}\r\n.last-update-choose div:active {\r\n  font-size: 30px;\r\n}\r\n.bottom {\r\n  border-bottom: 1px solid #fff;\r\n}\r\n</style>"]}]}